I"¯K<blockquote>
  <p>2019-08-04 21:47:52</p>
</blockquote>

<h2 id="ç¬¬ä¸ƒç« -ä»¿å‡½æ•°">ç¬¬ä¸ƒç«  ä»¿å‡½æ•°</h2>

<p>ä»¿å‡½æ•°ä¹Ÿå«å¯¹è±¡å‡½æ•°ï¼›åœ¨STLæä¾›çš„å„ç§ç®—æ³•ä¸­ï¼Œéƒ½å…è®¸ç”¨æˆ·è‡ªå®šä¹‰ç›¸å…³ç®—æ³•ã€‚ä»¥ç»“æœçš„falseæˆ–è€…trueæ¥è¿›è¡Œç›¸å…³çš„æ’åºæ“ä½œï¼Œç”¨æ¥æ‰§è¡Œå‡½æ•°çš„å°±æ˜¯ä»¿å‡½æ•°ã€‚ä¸€èˆ¬æ­¥éª¤æ˜¯å…ˆè®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å°†å‡½æ•°çš„ç›¸å…³æŒ‡é’ˆæŒ‡å‘å‡½æ•°å¯¹åº”çš„ç»“æœã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-11-10-20-39.png" alt="STLä»¿å‡½æ•°ä¸STLç®—æ³•ä¹‹é—´çš„å…³ç³»" /></p>

<p>ä»¿å‡½æ•°çš„åˆ†ç±»ï¼š</p>

<ul>
  <li>æ“ä½œæ•°çš„ä¸ªæ•°ï¼šä¸€å…ƒå’ŒäºŒå…ƒä»¿å‡½æ•°</li>
  <li>åŠŸèƒ½åˆ’åˆ†:ç®—æœ¯è¿ç®—ã€å…³ç³»è¿ç®—ã€é€»è¾‘è¿ç®—ã€‚</li>
</ul>

<p>ä½¿ç”¨STLå†…å»ºçš„ä»¿å‡½æ•°ï¼Œéƒ½å¿…é¡»å«æœ‰<functional>å¤´æ–‡ä»¶ã€‚</functional></p>

<h3 id="72-å¯é…æ¥adaptableçš„å…³é”®">7.2 å¯é…æ¥(Adaptable)çš„å…³é”®</h3>

<ul>
  <li>unary_function ç”¨æ¥å‘ˆç°ä¸€å…ƒå‡½æ•°çš„å‚æ•°å‹åˆ«å’Œè¿”å›å€¼ç±»å‹ã€‚</li>
  <li>binary_function ç”¨æ¥å‘ˆç°äºŒå…ƒå‡½æ•°çš„å‚æ•°å‹åˆ«å’Œè¿”å›å€¼ç±»å‹ã€‚</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Arg1</span><span class="p">,</span><span class="k">class</span> <span class="nc">Arg2</span><span class="p">,</span><span class="k">class</span> <span class="nc">Result</span><span class="p">&gt;</span>

<span class="k">struct</span> <span class="nc">binary_function</span>
<span class="p">{</span>
    <span class="n">typdef</span> <span class="n">Arg1</span> <span class="n">first_argument_type</span><span class="p">;</span>
    <span class="n">typdef</span> <span class="n">Arg2</span> <span class="n">second_argument_type</span><span class="p">;</span>
    <span class="n">typdef</span> <span class="n">Result</span> <span class="n">result_type</span><span class="p">;</span>
<span class="p">};</span>

</code></pre></div></div>

<h3 id="73-ç®—æœ¯ç±»arithmeticä»¿å‡½æ•°">7.3 ç®—æœ¯ç±»(Arithmetic)ä»¿å‡½æ•°</h3>

<ul>
  <li>åŠ æ³•ï¼šplus<T></T></li>
  <li>å‡æ³•ï¼šminus<T></T></li>
  <li>ä¹˜æ³•:multiplies<T></T></li>
  <li>é™¤æ³•ï¼šdivides<T></T></li>
  <li>è†œå–(modulus):modulus<T></T></li>
  <li>å¦å®š(negation):negate<T></T></li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="k">struct</span> <span class="nc">plus</span><span class="o">:</span><span class="k">public</span> <span class="n">binary_function</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">T</span><span class="o">&gt;</span>
<span class="p">{</span>
    <span class="n">T</span> <span class="k">operator</span><span class="p">()(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">,</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">y</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">;}</span>
<span class="p">};</span>

</code></pre></div></div>

<p><strong>è¯åŒå…ƒç´ </strong></p>

<p>æ•°å€¼Aè‹¥ä¸è¯¥å…ƒç´ åšOPè¿ç®—ï¼Œä¼šå¾—åˆ°Aè‡ªå·±ã€‚åŠ æ³•çš„åŒè¯å…ƒç´ ä¸º0ï¼Œå› ä¸ºä»»ä½•åŒ€é€ŸåŠ ä¸Š0ä»ä¸ºè‡ªå·±ã€‚ä¹˜æ³•çš„åŒè¯å…ƒç´ ä¸º1ï¼Œå› ä¸ºä»»ä½•å…ƒç´ ä¹˜ä»¥1ä»»ç„¶ä¸ºè‡ªå·±</p>

<h3 id="74-å…³ç³»è¿ç®—ç±»ä»¿å‡½æ•°">7.4 å…³ç³»è¿ç®—ç±»ä»¿å‡½æ•°</h3>
<p>ä»–ä»¬éƒ½æ˜¯äºŒå…ƒçš„è¿ç®—å‡½æ•°</p>

<ul>
  <li>ç­‰äºï¼šequal_to<T></T></li>
  <li>ä¸ç­‰äºï¼šnot_equal_to<T></T></li>
  <li>å¤§äº: greater<T></T></li>
  <li>å¤§äºæˆ–è€…ç­‰äºï¼šgreater_equal<T></T></li>
  <li>å°äºï¼šless<T></T></li>
  <li>å°äºæˆ–è€…ç­‰äº:less_equal<T></T></li>
</ul>

<h3 id="75-é€»è¾‘è¿ç®—ç±»ä»¿å‡½æ•°">7.5 é€»è¾‘è¿ç®—ç±»ä»¿å‡½æ•°</h3>

<p>å…¶ä¸­Andå’ŒOrä¸ºäºŒå…ƒè¿ç®—ç¬¦ï¼ŒNotä¸ºä¸€å…ƒè¿ç®—ç¬¦</p>

<ul>
  <li>And:logical_and<T></T></li>
  <li>Or:logical_or<T></T></li>
  <li>Not:logical_not<T></T></li>
</ul>

<h3 id="76-è¯åŒidentityé€‰æ‹©selectæŠ•å°„project">7.6 è¯åŒ(identity)ã€é€‰æ‹©(select)ã€æŠ•å°„(project)</h3>

<ul>
  <li>è¯åŒï¼šä»»ä½•æ•°å€¼é€šè¿‡æ­¤å‡½æ•°åï¼Œä¸ä¼šæœ‰ä»»ä½•æ”¹å˜ï¼Œæ­¤å¼è¿ç”¨äº<stl_set.h>ç”¨æ¥æŒ‡å®šRB-treeæ‰€éœ€è¦çš„KeyOfValue op ï¼Œå› ä¸ºsetå…ƒç´ çš„é”®å€¼å³å®å€¼ï¼Œæ‰€ä»¥é‡‡ç”¨identity</stl_set.h></li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="k">struct</span> <span class="nc">identity</span><span class="o">:</span><span class="k">public</span> <span class="n">unary_function</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">T</span><span class="o">&gt;</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="k">operator</span><span class="p">(){</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">}</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">x</span><span class="p">;}</span>
<span class="p">};</span>
</code></pre></div></div>
<ul>
  <li>
    <p>é€‰æ‹©ï¼š æ¥å—ä¸€ä¸ªpair,ä¼ å›ç¬¬ä¸€å…ƒç´ ã€‚æ­¤å¼è¿ç”¨äº<stl_map.h>ç”¨æ¥æŒ‡å®šRB-treeæ‰€éœ€è¦çš„KeyOfValue op ï¼Œå› ä¸ºmapç³»ä»¥pairå…ƒç´ çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå…¶é”®å€¼ï¼Œæ‰€ä»¥é‡‡ç”¨select1stã€‚</stl_map.h></p>
  </li>
  <li>
    <p>æŠ•å°„å‡½æ•°ï¼šä¼ å›ç¬¬ä¸€å‚æ•°ï¼Œå¿½ç•¥ç¬¬äºŒå‚æ•°</p>
  </li>
</ul>

<h2 id="ç¬¬8ç« -é…æ¥å™¨">ç¬¬8ç«  é…æ¥å™¨</h2>

<p>Adapterå®é™…ä¸Šæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå°†ä¸€ä¸ªclassçš„å€Ÿå£è½¬æ¢ä¸ºå¦å¤–ä¸€ä¸ªclassçš„æ¥å£ã€‚</p>

<h3 id="81-é…æ¥å™¨ä¹‹æ¦‚è§‚ä¸åˆ†ç±»">8.1 é…æ¥å™¨ä¹‹æ¦‚è§‚ä¸åˆ†ç±»</h3>

<ul>
  <li>function adapter:æ”¹å˜ä»¿å‡½æ•°(functors)æ¥å£</li>
  <li>container adapter:æ”¹å˜å®¹å™¨(container)æ¥å£</li>
  <li>iterators adapter:æ”¹å˜è¿­ä»£å™¨å€Ÿå£</li>
</ul>

<p><img src="https://wangpengcheng.github.io/img/2019-08-11-13-58-31.png" alt="function adaptersåŠå…¶è¾…åŠ©å‡½æ•°" /></p>

<h3 id="82-container-adapter">8.2 container adapter</h3>

<p>stackå’Œqueueçš„åº•å±‚éƒ½æ˜¯ä½¿ç”¨dequeæ„æˆã€‚</p>

<h3 id="83-iterator-adapters">8.3 iterator adapters</h3>
<p>insert  iteratoråº•å±‚çš„è°ƒç”¨æ˜¯push_front()æˆ–è€…push_back()æˆ–è€…insert()æ“ä½œå‡½æ•°ã€‚</p>

<h4 id="832-reverse-iterators">8.3.2 reverse iterators</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">id</span><span class="o">=</span><span class="p">{</span><span class="mi">32</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">99</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">};</span>
<span class="c1">//32</span>

<span class="n">cout</span> <span class="o">&lt;&lt;*</span><span class="p">(</span><span class="n">id</span><span class="p">.</span><span class="n">begin</span><span class="p">())</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">//3</span>

<span class="n">cout</span> <span class="o">&lt;&lt;*</span><span class="p">(</span><span class="n">id</span><span class="p">.</span><span class="n">rbegin</span><span class="p">())</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">//0</span>

<span class="n">cout</span> <span class="o">&lt;&lt;*</span><span class="p">(</span><span class="n">id</span><span class="p">.</span><span class="n">end</span><span class="p">())</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">//0</span>

<span class="n">cout</span> <span class="o">&lt;&lt;*</span><span class="p">(</span><span class="n">id</span><span class="p">.</span><span class="n">rend</span><span class="p">())</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">//æŸ¥æ‰¾å¯¹åº”çš„å€¼</span>

<span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">ite</span><span class="o">=</span><span class="n">find</span><span class="p">(</span><span class="n">id</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="n">id</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="mi">99</span><span class="p">);</span>
<span class="n">reverse_iterator</span><span class="o">&lt;</span><span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="o">&gt;</span> <span class="n">rite</span><span class="p">(</span><span class="n">ite</span><span class="p">);</span>
<span class="c1">//99</span>

<span class="n">cout</span><span class="o">&lt;&lt;*</span><span class="n">ite</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">//26</span>

<span class="n">cout</span><span class="o">&lt;&lt;*</span><span class="n">rite</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
</code></pre></div></div>

<p>æ³¨æ„ï¼Œç”±äºè¿­ä»£å™¨åŒºé—´çš„â€œå‰é—­åå¼€â€çš„ä¹ æƒ¯ï¼Œå½“è¿­ä»£å™¨è¢«é€†å‘æ–¹å‘æ—¶ï¼Œè™½ç„¶å®ä½“ä½ç½®(çœŸæ­£çš„åœ°å€)ä¸å˜ï¼Œä½†å…¶é€»è¾‘ä½ç½®(è¿­ä»£å™¨æ‰€ä»£è¡¨çš„å…ƒç´ )æ”¹å˜äº†(å¿…é¡»å¦‚æ­¤æ”¹å˜)ï¼šå› æ­¤æ­£å‘å’Œé€†å‘è¿­ä»£å™¨æ‰€å–å‡ºçš„æ˜¯ä¸åŒçš„å…ƒç´ ï¼š</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-11-14-20-30.png" alt="å½“è¿­ä»£å™¨è¢«é€†è½¬" /></p>

<p>å¯¹é€†å‘è¿­ä»£å™¨å–å€¼ï¼Œå°±æ˜¯å°†â€œå¯¹åº”ä¹‹æ­£å‘è¿­ä»£å™¨â€åé€€ä¸€æ ¼è€Œåå–å€¼ã€‚</p>

<h4 id="833-stream-iterators">8.3.3 stream iterators</h4>

<p>å¯ä»¥å°†ä¸€ä¸ªè¿­ä»£å™¨ç»‘å®šåˆ°ä¸€æ ¼streamå¯¹è±¡ä¸Šã€‚ç»‘å®šåˆ°istreamå¯¹è±¡ä¾‹å¦‚(std::cin)è€…ï¼Œå°±æ˜¯istream_iteratoræ‹¥æœ‰è¾“å…¥èƒ½åŠ›ï¼ŒåŒç†è¾“å‡ºå¯¹è±¡ä¸Šæœ‰è¾“å‡ºèƒ½åŠ›ã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-11-15-13-25.png" alt="copy istream_iterator" /></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-11-15-14-45.png" alt="copy ostream_iterator" /></p>

<h3 id="84-function-adapters">8.4 function adapters</h3>

<p>å®¹å™¨æ˜¯ä»¥class templateså®Œæˆï¼Œç®—æ³•æ˜¯ä»¥function templateså®Œæˆï¼Œä»¿å‡½æ•°æ˜¯ä¸€ç§å°†operator()é‡è½½çš„class template,è¿­ä»£å™¨åˆ™æ˜¯ä¸€ç§å°†operator++å’Œoperator*ç­‰æŒ‡é’ˆä¹ æƒ¯æ€§å¸¸è¡Œä¸ºé‡è½½çš„class templateã€‚</p>

<p>function adaptersä¹Ÿå†…è—äº†ä¸€æ ¼member object</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-11-15-22-14.png" alt="" /></p>

<p>å› æ­¤function adapterså¤šæ˜¯åœ¨å†…éƒ¨å®ç°å‡½æ•°çš„åˆæˆä¸æ“ä½œ</p>

<h4 id="844-ç”¨äºå‡½æ•°æŒ‡é’ˆ-ptr_fun">8.4.4 ç”¨äºå‡½æ•°æŒ‡é’ˆï¼š ptr_fun</h4>

<p>è¿™ç§é…æ¥å™¨ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿå°†ä¸€èˆ¬å‡½æ•°å½“åšä»¿å‡½æ•°ä½¿ç”¨ã€‚ä¸€èˆ¬å‡½æ•°å½“åšä»¿å‡½æ•°ä¼ ç»™STLç®—æ³•ã€‚å…¶å®è´¨å°±æ˜¯æŠŠä¸€ä¸ªå‡½æ•°æŒ‡é’ˆåŒ…è£¹èµ·æ¥ã€‚</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//å½“ä»¿å‡½æ•°è¢«ä½¿ç”¨æ—¶ï¼Œå°±è°ƒç”¨è¯¥å‡½æ•°æŒ‡é’ˆ,è¿™é‡Œæ˜¯ä¸€å…ƒå‡½æ•°æŒ‡é’ˆçš„å°è£…</span>

<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Arg</span><span class="p">,</span><span class="k">class</span> <span class="nc">Result</span><span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">pointer_to_unary_function</span><span class="o">:</span><span class="k">public</span> <span class="n">unary_function</span><span class="o">&lt;</span><span class="n">Arg</span><span class="p">,</span><span class="n">Result</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="nl">protected:</span>
    <span class="c1">//å†…éƒ¨æˆå‘˜ï¼Œä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ</span>

    <span class="n">Result</span> <span class="p">(</span><span class="o">*</span><span class="n">Ptr</span><span class="p">)(</span><span class="n">Arg</span><span class="p">);</span>
<span class="nl">public:</span>
    <span class="n">pointer_to_unary_function</span><span class="p">(){}</span>
    <span class="c1">//ä»¥ä¸‹constructorå°†å‡½æ•°æŒ‡é’ˆè®°å½•äºå†…éƒ¨æˆå‘˜ä¹‹ä¸­</span>

    <span class="k">explicit</span> <span class="n">pointer_to_unary_function</span><span class="p">(</span><span class="n">Result</span> <span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)(</span><span class="n">Arg</span><span class="p">))</span><span class="o">:</span><span class="n">ptr</span><span class="p">(</span><span class="n">x</span><span class="p">){}</span>
    <span class="c1">//ä»¥ä¸‹ï¼Œé€šè¿‡å‡½æ•°æŒ‡é’ˆæŒ‡å‘å‡½æ•°</span>

    <span class="n">Result</span> <span class="k">operator</span><span class="p">()(</span><span class="n">Arg</span> <span class="n">x</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">ptr</span><span class="p">(</span><span class="n">x</span><span class="p">);}</span>
<span class="p">};</span>
<span class="c1">//è¾…åŠ©å‡½æ•°ï¼Œè®©æˆ‘ä»¬å¾—ä»¥æ–¹ä¾¿è¿ç”¨</span>

<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Arg</span><span class="p">,</span><span class="k">class</span> <span class="nc">Result</span><span class="p">&gt;</span>
<span class="kr">inline</span> <span class="n">pointer_to_unary_function</span><span class="o">&lt;</span><span class="n">Arg</span><span class="p">,</span><span class="n">Result</span><span class="o">&gt;</span> <span class="n">ptr_fun</span><span class="p">(</span><span class="n">Result</span> <span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)(</span><span class="n">Arg</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">pointer_to_unary_function</span><span class="o">&lt;</span><span class="n">Arg</span><span class="p">,</span><span class="n">Result</span><span class="o">&gt;</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">//äºŒå…ƒå‡½æ•°æŒ‡é’ˆçš„å°è£…</span>

<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Arg1</span><span class="p">,</span><span class="k">class</span> <span class="nc">Arg2</span><span class="p">,</span><span class="k">class</span> <span class="nc">Result</span><span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">pointer_to_binary_function</span><span class="o">:</span><span class="k">public</span> <span class="n">binary_function</span><span class="o">&lt;</span><span class="n">Arg1</span><span class="p">,</span><span class="n">Arg2</span><span class="p">,</span><span class="n">Result</span><span class="o">&gt;</span><span class="p">{</span>
<span class="nl">protected:</span>
    <span class="c1">//å†…éƒ¨æˆå‘˜ï¼Œä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ</span>

    <span class="n">Result</span> <span class="p">(</span><span class="o">*</span><span class="n">ptr</span><span class="p">)(</span><span class="n">Arg1</span><span class="p">,</span><span class="n">Arg2</span><span class="p">);</span>
<span class="nl">public:</span>
    <span class="n">pointer_to_binary_function</span><span class="p">(){}</span>
    <span class="c1">//å°†å‡½æ•°æŒ‡é’ˆè®°å½•åœ¨å†…éƒ¨æˆå‘˜ä¹‹ä¸­</span>

    <span class="k">explicit</span> <span class="n">pointer_to_binary_function</span><span class="p">(</span><span class="n">Result</span> <span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)(</span><span class="n">Arg1</span><span class="p">,</span><span class="n">Arg2</span><span class="p">))</span><span class="o">:</span><span class="n">ptr</span><span class="p">(</span><span class="n">x</span><span class="p">){}</span>
    <span class="c1">//å‡½æ•°æŒ‡é’ˆæ‰§è¡Œå‡½æ•°</span>

    <span class="n">Result</span> <span class="k">operator</span><span class="p">()(</span><span class="n">Arg1</span> <span class="n">x</span><span class="p">,</span><span class="n">Arg2</span> <span class="n">y</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">ptr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">);}</span>
<span class="p">};</span>
<span class="c1">//è¾…åŠ©å‡½æ•°ï¼Œæ–¹ä¾¿å‡½æ•°çš„ä½¿ç”¨</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">Arg1</span><span class="p">,</span><span class="k">class</span> <span class="nc">Arg2</span><span class="p">,</span><span class="k">class</span> <span class="nc">Result</span><span class="p">&gt;</span>
<span class="c1">//å®šä¹‰è¿”å›ç±»å‹</span>

<span class="kr">inline</span> <span class="n">pointer_to_binary_function</span><span class="o">&lt;</span><span class="n">Arg1</span><span class="p">,</span><span class="n">Arg2</span><span class="p">,</span><span class="n">Result</span><span class="o">&gt;</span>
<span class="n">ptr_fun</span><span class="p">(</span><span class="n">Result</span> <span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)(</span><span class="n">Arg1</span><span class="p">,</span><span class="n">Arg2</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">pointer_to_binary_function</span><span class="o">&lt;</span><span class="n">Arg1</span><span class="p">,</span><span class="n">Arg2</span><span class="p">,</span><span class="n">Result</span><span class="o">&gt;</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="845-ç”¨äºæˆå‘˜å‡½æ•°æŒ‡é’ˆmem_funmem_fun_ref">8.4.5 ç”¨äºæˆå‘˜å‡½æ•°æŒ‡é’ˆï¼šmem_fun,mem_fun_refï¼›</h4>

<p>è¿™ç§é…æ¥å™¨ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿå°†æˆå‘˜å‡½æ•°å½“åšä»¿å‡½æ•°æ¥è¿›è¡Œä½¿ç”¨ï¼Œä½¿å¾—æˆå‘˜å‡½æ•°å¯ä»¥æ­é…å„ç§æ³›å‹ç®—æ³•ã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-11-15-48-03.png" alt="ç±»é˜¶å±‚ä½“ç³»" /></p>
:ET