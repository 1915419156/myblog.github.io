I"¿<blockquote>
  <p>2019-08-02 16:09:52</p>
</blockquote>

<h2 id="ç®—æ³•">ç®—æ³•</h2>

<h3 id="ç®—æ³•æ€»è§ˆå’Œåˆ†ç±»">ç®—æ³•æ€»è§ˆå’Œåˆ†ç±»</h3>

<p><strong>STLç®—æ³•æ€»è§ˆ</strong></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-16-13-21.png" alt="STLç®—æ³•æ€»è§ˆ01" /></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-16-14-40.png" alt="STLç®—æ³•æ€»è§ˆ02" /></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-16-18-06.png" alt="STLç®—æ³•æ€»è§ˆ03" /></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-16-18-57.png" alt="STLç®—æ³•æ€»è§ˆ04" /></p>

<p><strong>ç®—æ³•åˆ†ç±»</strong></p>

<ul>
  <li>è´¨å˜ç®—æ³•ï¼šä¼šæ”¹å˜æ“ä½œå¯¹è±¡ä¹‹å€¼ï¼›å¦‚copyã€swapã€replaceã€fillã€removeã€permutationã€aprtitionã€random shufflingã€sortç­‰</li>
  <li>éè´¨å˜ç®—æ³•ï¼šä¸æ”¹å˜æ“ä½œå¯¹è±¡ä¹‹å€¼ï¼šfindã€searchã€countã€for_eachã€equalã€mismatchã€maxã€minç­‰</li>
</ul>

<p><strong>STLç®—æ³•çš„ä¸€èˆ¬å½¢å¼</strong></p>

<p>è´¨å˜ç®—æ³•ä¸€åŠæä¾›ä¸¤ä¸ªç‰ˆæœ¬ï¼šin-placeâ€“å°±åœ°æ”¹å˜æ“ä½œå¯¹è±¡;copyâ€“å°†æ“ä½œå¯¹è±¡çš„å†…å®¹å¤åˆ¶ä¸€ä»½å‰¯æœ¬(é€šå¸¸ä»¥_copyç»“å°¾)ï¼Œæ“ä½œåè¿”å›ã€‚</p>

<h3 id="63-æ•°å€¼ç®—æ³•">6.3 æ•°å€¼ç®—æ³•<stl_numeric.h></stl_numeric.h></h3>

<p>æ•°å€¼ç®—æ³•ä¸€èˆ¬åŒ…å«åœ¨è¡¨å¤´<numeric>ä¸­ï¼Œå®ç°æ˜¯åœ¨<stl_numeric.h>æ–‡ä»¶ä¸­</stl_numeric.h></numeric></p>

<ul>
  <li>accumulate å…³é”®æ“ä½œ: init=init+<em>i(ç¬¬ä¸€ç‰ˆæœ¬)ã€init=binary_op(init,</em>i*)(ç¬¬äºŒä¸ªç‰ˆæœ¬)</li>
  <li>adjacent_difference:è®¡ç®—ç›¸é‚»å…ƒç´ çš„å·®é¢å…³é”®ä»£ç ï¼š <em>i-</em>(i-1)ï¼›</li>
  <li>inner_product:èƒ½å¤Ÿè®¡ç®—ä¸€èˆ¬å†…ç§¯ï¼Œ<code class="language-plaintext highlighter-rouge">result=result+(*i)**(first2+(i-first))</code></li>
  <li>partial_sumè®¡ç®—å±€éƒ¨æ€»å’Œ</li>
  <li>power:è®¡ç®—æŒ‡æ•°(<a href="https://blog.csdn.net/a1351937368/article/details/77746574/">C++ä¸­ä½è¿ç®—çš„ä½¿ç”¨æ–¹æ³•</a>;<a href="https://blog.csdn.net/u012062760/article/details/46401115">
STLæºç åˆ†æä¹‹powerç®—æ³•</a>;<a href="https://blog.csdn.net/MoreWindows/article/details/7174143">å¿«é€Ÿè®¡ç®—xçš„næ¬¡å¹‚</a>)</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">T</span> <span class="nf">power</span><span class="p">(</span><span class="n">T</span> <span class="n">x</span><span class="p">,</span><span class="n">Integer</span> <span class="n">n</span><span class="p">,</span><span class="n">Monoidoperation</span> <span class="n">op</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
        <span class="k">return</span> <span class="n">identity_element</span><span class="p">(</span><span class="n">op</span><span class="p">);</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="c1">//è¿›è¡Œä½è¿ç®—ç›´åˆ°ä¸ºå¶æ•°ï¼Œè¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†è¿‡æ»¤æ‰ä½ä½çš„0</span>

        <span class="k">while</span><span class="p">((</span><span class="n">n</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
            <span class="n">n</span><span class="o">&gt;&gt;=</span><span class="mi">1</span><span class="p">;</span>
            <span class="n">x</span><span class="o">=</span><span class="n">op</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="c1">//é‡æ–°è®¡ç®—xï¼Œnå˜ä¸ºå¶æ•°</span>

        <span class="n">T</span> <span class="n">result</span><span class="o">=</span><span class="n">x</span><span class="p">;</span>
        <span class="n">n</span><span class="o">&gt;&gt;=</span><span class="mi">1</span><span class="p">;</span>
        <span class="c1">//</span>

        <span class="k">while</span><span class="p">(</span><span class="n">n</span><span class="o">!=</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">x</span><span class="o">=</span><span class="n">op</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>
            <span class="c1">//å‘ç°æ˜¯å¥‡æ•°;å°†å¥‡æ•°å»é™¤ï¼Œå³ä¹˜ä¸€ä¸ªx</span>

            <span class="k">if</span><span class="p">((</span><span class="n">n</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">)</span><span class="o">!=</span><span class="mi">0</span><span class="p">){</span>
                <span class="n">result</span><span class="o">=</span><span class="n">op</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="c1">//é™¤ä»¥2</span>

            <span class="n">n</span><span class="o">&gt;&gt;=</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cm">/*

ç¬¬ä¸€æ­¥åˆ¤æ–­næ˜¯å¦ä¸º0ï¼›
ç¬¬ä¸€ä¸ªwhileå¾ªç¯ï¼Œå°½å¯èƒ½çš„å°†åº•æ•°å˜çš„æ›´å¤§ï¼Œæ›´å¥½è¿›è¡Œåç»­çš„è®¡ç®—ï¼Œç»è¿‡ç¬¬ä¸€ä¸ªwhileä¹‹åï¼Œnè‚¯å®šæ˜¯ä¸€ä¸ªå¥‡æ•°äº†ï¼Œå†è¿›å…¥ç¬¬äºŒä¸ªå¾ªç¯ï¼Œå¦‚æœæ˜¯1ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚
ç¬¬äºŒä¸ªwhileå¾ªç¯æ„Ÿè§‰å°±æ˜¯æ±‚å½“å‰åº•æ•°ï¼ˆxçš„å¶æ•°æ¬¡å¹³æ–¹ï¼Œyï¼‰çš„å¥‡æ•°ï¼ˆmï¼‰æ¬¡å¹³æ–¹çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯æ±‚mçš„äºŒè¿›åˆ¶å„ä¸ªä½æ˜¯å¦ä¸º1çš„è¿‡ç¨‹ï¼Œå¦‚æœå½“å‰ä½Mä¸º1ï¼Œåˆ™ç»“æœé¢å¤–ä¹˜ä»¥yçš„2^Mæ¬¡æ–¹~

*/</span>

</code></pre></div></div>

<p>åœ¨è¿™é‡Œé¡ºé“æµ‹è¯•äº†ä¸€ä¸‹GCCçš„stlçš„æ€§èƒ½ï¼Œå‘ç°ç»“æœæ¯”è¾ƒæ„Ÿäººå•Šï¼Œè¿·ä¹‹ç¼–è¯‘å™¨ä¼˜åŒ–ã€‚ã€‚ã€‚ã€‚</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp">#include&lt;bits/stdc++.h&gt;
#include&lt;cmath&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="c1">//æœ´ç´ ç®—æ³•</span>
<span class="kt">long</span> <span class="nf">pusu</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">long</span> <span class="n">num</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">num</span><span class="o">*=</span><span class="n">x</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">num</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">//åˆ†æ²»ç®—æ³•----å¿«é€Ÿå¹‚</span>
<span class="kt">long</span> <span class="nf">fenzhi</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">long</span> <span class="n">num</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">((</span><span class="n">n</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">)</span><span class="o">!=</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">num</span><span class="o">*=</span><span class="n">x</span><span class="p">;</span>
            <span class="n">n</span><span class="o">--</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">x</span><span class="o">*=</span><span class="n">x</span><span class="p">;</span>
        <span class="n">n</span><span class="o">/=</span><span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">num</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">//stlç®—æ³•</span>
<span class="kt">long</span> <span class="nf">stl_pow</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">n</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">n</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">x</span> <span class="o">*=</span> <span class="n">x</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kt">long</span> <span class="n">result</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
    <span class="n">n</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">n</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">x</span> <span class="o">*=</span> <span class="n">x</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">((</span><span class="n">n</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">*=</span> <span class="n">x</span><span class="p">;</span>
        <span class="n">n</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
    <span class="c1">//cin&gt;&gt;x&gt;&gt;n;</span>
   <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">k</span><span class="p">;</span><span class="o">++</span><span class="n">i</span><span class="p">){</span>
    <span class="o">++</span><span class="n">x</span><span class="p">;</span> 
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">k</span><span class="p">;</span><span class="o">++</span><span class="n">j</span><span class="p">){</span>
    <span class="o">++</span><span class="n">n</span><span class="p">;</span>
    <span class="kt">long</span> <span class="n">result</span><span class="p">;</span>
    <span class="kt">clock_t</span> <span class="n">start_time</span><span class="o">=</span><span class="n">clock</span><span class="p">();</span>
    <span class="kt">long</span> <span class="n">temp1</span><span class="o">=</span><span class="n">pusu</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">);</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"æœ´ç´ ç®—æ³•ç»“æœ:"</span><span class="o">&lt;&lt;</span><span class="n">temp1</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
    <span class="kt">clock_t</span> <span class="n">end_time</span><span class="o">=</span><span class="n">clock</span><span class="p">();</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Running time is: %lfms</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">end_time</span><span class="o">-</span><span class="n">start_time</span><span class="p">)</span><span class="o">/</span><span class="n">CLOCKS_PER_SEC</span><span class="o">*</span><span class="mi">1000</span><span class="p">);</span>
    <span class="kt">clock_t</span> <span class="n">start_time1</span><span class="o">=</span><span class="n">clock</span><span class="p">();</span>
    <span class="kt">long</span> <span class="n">temp2</span><span class="o">=</span><span class="n">fenzhi</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">);</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"åˆ†æ²»ç®—æ³•ç»“æœ:"</span><span class="o">&lt;&lt;</span><span class="n">temp2</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
    <span class="kt">clock_t</span> <span class="n">end_time1</span><span class="o">=</span><span class="n">clock</span><span class="p">();</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Running time is: %lfms</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">end_time1</span><span class="o">-</span><span class="n">start_time1</span><span class="p">)</span><span class="o">/</span><span class="n">CLOCKS_PER_SEC</span><span class="o">*</span><span class="mi">1000</span><span class="p">);</span>
    <span class="kt">clock_t</span> <span class="n">start_time2</span><span class="o">=</span><span class="n">clock</span><span class="p">();</span>
   <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"STL_power:"</span><span class="o">&lt;&lt;</span><span class="n">stl_pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>    
   <span class="kt">clock_t</span> <span class="n">end_time2</span><span class="o">=</span><span class="n">clock</span><span class="p">();</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"Running time is: %lfms</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">end_time2</span><span class="o">-</span><span class="n">start_time2</span><span class="p">)</span><span class="o">/</span><span class="n">CLOCKS_PER_SEC</span><span class="o">*</span><span class="mi">1000</span><span class="p">);</span>
   <span class="kt">clock_t</span> <span class="n">start_time3</span><span class="o">=</span><span class="n">clock</span><span class="p">();</span>
   <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"STLç»“æœ:"</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span> 
   <span class="kt">clock_t</span> <span class="n">end_time3</span><span class="o">=</span><span class="n">clock</span><span class="p">();</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"Running time is: %lfms</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">end_time3</span><span class="o">-</span><span class="n">start_time3</span><span class="p">)</span><span class="o">/</span><span class="n">CLOCKS_PER_SEC</span><span class="o">*</span><span class="mi">1000</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"x %d,n %d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"--------------------</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* ç»“æœ

æœ´ç´ ç®—æ³•ç»“æœ:4096
Running time is: 0.097000ms
åˆ†æ²»ç®—æ³•ç»“æœ:4096
Running time is: 0.006000ms
STL_power:4096
Running time is: 0.009000ms
STLç»“æœ:4096
Running time is: 0.025000ms
x 4,n 6 
--------------------
æœ´ç´ ç®—æ³•ç»“æœ:16384
Running time is: 0.006000ms
åˆ†æ²»ç®—æ³•ç»“æœ:16384
Running time is: 0.005000ms
STL_power:16384
Running time is: 0.007000ms
STLç»“æœ:16384
Running time is: 0.009000ms
x 4,n 7 
--------------------
æœ´ç´ ç®—æ³•ç»“æœ:390625
Running time is: 0.005000ms
åˆ†æ²»ç®—æ³•ç»“æœ:390625
Running time is: 0.007000ms
STL_power:390625
Running time is: 0.007000ms
STLç»“æœ:390625
Running time is: 0.009000ms
x 5,n 8 
--------------------
æœ´ç´ ç®—æ³•ç»“æœ:1953125
Running time is: 0.006000ms
åˆ†æ²»ç®—æ³•ç»“æœ:1953125
Running time is: 0.007000ms
STL_power:1953125
Running time is: 0.006000ms
STLç»“æœ:1.95312e+06
Running time is: 0.009000ms
x 5,n 9 
--------------------

*/</span>


</code></pre></div></div>

<h3 id="64-åŸºæœ¬ç®—æ³•">6.4 åŸºæœ¬ç®—æ³•</h3>

<p>åŸºæœ¬å¸¸ç”¨ç®—æ³•å®šä¹‰åœ¨<stl_algobase.h>ä¸­ï¼Œå…¶å®ƒç®—æ³•å®šä¹‰äº<stl_algo.h></stl_algo.h></stl_algobase.h></p>

<p>åŸºæœ¬å‡½æ•°æœ‰: equal,fill,fill_n,iter_swap,lexicographical_compare,max,min,mismatch,swap;è¿™äº›åœ¨ä¹‹å‰çš„c++primeré˜…è¯»ç¬”è®°ä¸­æœ‰ä»‹ç»ï¼Œä¸å†è¿‡å¤šèµ˜è¿°ã€‚</p>

<p>lexicographical_compareï¼šå­—å…¸æ’åˆ—æ–¹å¼å¯¹ä¸¤ä¸ªåºåˆ—ï¼Œè¿›è¡Œæ¯”è¾ƒ</p>

<ul>
  <li>å¦‚æœç¬¬ä¸€åºåˆ—çš„å…ƒç´ è¾ƒå°ï¼Œè¿”å›true,å¦åˆ™è¿”å›false</li>
  <li>å¦‚æœè¾¾åˆ°last1è€Œå°šæœªè¾¾åˆ°last2,è¿”å›true</li>
  <li>å¦‚æœè¾¾åˆ°last2è€Œå°šæœªè¾¾åˆ°last1,è¿”å›false</li>
  <li>åŒæ—¶è¾¾åˆ°ï¼Œè¿”å›false</li>
</ul>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-21-23-34.png" alt="copyç®—æ³•çš„å®Œæ•´è„‰ç»œ" /></p>

<p>å½“å¤åˆ¶ä½ç½®çš„èµ·ç‚¹åœ¨å¤åˆ¶åŒºé—´å†…æ—¶ï¼Œå°†ä¼šå‘ç”Ÿé”™è¯¯ã€‚ä¸ºäº†é˜²æ­¢ä¸Šè¿°é”™è¯¯çš„å‘ç”Ÿï¼Œä¸€èˆ¬éƒ½ä¼šå…ˆæŠŠç›®æ ‡åŒºæ®µä½¿ç”¨memmove()å¤åˆ¶ä¸‹æ¥ï¼Œå†è¿›è¡Œæ“ä½œã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-21-26-47.png" alt="copyç®—æ³•éœ€è¦ç‰¹åˆ«æ³¨æ„åŒºé—´é‡å çš„æƒ…å†µ" /></p>

<p>copyæ”¹å˜çš„æ˜¯[result,result+(last-first))ä¸­çš„è¿­ä»£å™¨æ‰€æŒ‡å¯¹è±¡ï¼Œè€Œå¹¶éæ›´æ”¹è¿­ä»£å™¨æœ¬èº«ã€‚å®ƒä¼šä¸ºè¾“å‡ºåŒºé—´çš„å…ƒç´ èµ‹äºˆæ–°å€¼ï¼Œè€Œä¸æ˜¯äº§ç”Ÿæ–°çš„å…ƒç´ ã€‚å®ƒä¸èƒ½æ”¹å˜è¾“å‡ºåŒºé—´çš„è¿­ä»£å™¨ä¸ªæ•°ã€‚å› æ­¤ä¸èƒ½å°†å…ƒç´ æ’å…¥ç©ºå®¹å™¨ä¸­ã€‚</p>

<p><strong>copy_backward åå‘æ‹·è´</strong></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-21-42-23.png" alt="copy_backwardæ“ä½œç¤ºæ„å›¾" /></p>

<h3 id="65-set-ç›¸å…³ç®—æ³•">6.5 set ç›¸å…³ç®—æ³•</h3>

<p>STLæä¾›äº†å››ç§set(é›†åˆ)ç›¸å…³çš„ç®—æ³•ï¼Œåˆ†åˆ«æ˜¯å¹¶é›†(union),äº¤é›†(intersection)ï¼Œå·®é›†(difference)ã€å¯¹ç§°é›†(symmetic difference)</p>

<p>set_union:æ±‚å¹¶é›†â€“set_union(first1,last1,first2,last2,ostream_iterator<int>(cout,""));</int></p>

<p>æ¯”è¾ƒçš„å…³é”®ä»£ç ï¼š</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">InputIterator1</span><span class="p">,</span><span class="k">class</span> <span class="nc">InputIterator2</span><span class="p">,</span><span class="k">class</span> <span class="nc">OutputIterator</span><span class="p">&gt;</span>
<span class="n">OutputIterator</span> <span class="nf">set_union</span><span class="p">(</span><span class="n">InputIterator1</span> <span class="n">first1</span><span class="p">,</span><span class="n">InputIterator1</span> <span class="n">last1</span><span class="p">,</span>
                        <span class="n">InputIterator2</span> <span class="n">first2</span><span class="p">,</span><span class="n">InputIterator2</span> <span class="n">last2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span><span class="p">(</span><span class="n">first1</span><span class="o">!=</span><span class="n">last1</span><span class="o">&amp;&amp;</span><span class="n">first2</span><span class="o">!=</span><span class="n">last2</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//åœ¨ä¸¤ä¸ªåŒºé—´ä¹‹å†…åˆ†åˆ«ç§»åŠ¨è¿­ä»£å™¨ï¼Œé¦–å…ˆå°†å…ƒç´ è¾ƒå°è€…(å‡è®¾ä¸ºAåŒº)è®°å½•äºç›®æ ‡åŒºåŸŸï¼›ç„¶åç§»åŠ¨AåŒºè¿­ä»£å™¨ä½¿ä¹‹å‰è¿›ï¼›åŒæ—¶å¦ä¸€ä¸ªè¿­ä»£å™¨ä¸æ‡‚ï¼Œç„¶åè¿›è¡Œæ–°ä¸€æ¬¡çš„æ¯”è¾ƒå¤§å°ã€è®°å½•å€¼ã€è¿­ä»£å™¨ã€è¿­ä»£å™¨ç§»åŠ¨ï¼Œç›´åˆ°ä¸¤åŒºä¸­æœ‰ä¸€ä¸ªåŒºè¾¾åˆ°å°¾ç«¯ã€‚å¦‚æœå…ƒç´ ç›¸ç­‰ï¼Œå–S1è€…è®°å½•äºç›®æ ‡åŒºï¼Œå¹¶åŒæ—¶ç§»åŠ¨ä¸¤ä¸ªè¿­ä»£å™¨</span>

        <span class="k">if</span><span class="p">(</span><span class="o">*</span><span class="n">first1</span><span class="o">&lt;*</span><span class="n">first2</span><span class="p">){</span>
            <span class="o">*</span><span class="n">result</span><span class="o">=*</span><span class="n">first1</span><span class="p">;</span>
            <span class="o">++</span><span class="n">first1</span><span class="p">;</span>
        <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">*</span><span class="n">first2</span><span class="o">&lt;*</span><span class="n">first1</span><span class="p">){</span>
            <span class="o">*</span><span class="n">result</span><span class="o">=*</span><span class="n">first2</span><span class="p">;</span>
            <span class="o">++</span><span class="n">first2</span><span class="p">;</span>
        <span class="c1">//*first2==*first1</span>

        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
            <span class="o">*</span><span class="n">result</span><span class="o">=*</span><span class="n">first1</span><span class="p">;</span>
            <span class="o">++</span><span class="n">first1</span><span class="p">;</span>
            <span class="o">++</span><span class="n">first2</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="o">++</span><span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-21-52-12.png" alt="set_unionåˆ†æ" /></p>

<h4 id="652-set_intersectionæ„é€ äº¤é›†">6.5.2 set_intersectionæ„é€ äº¤é›†</h4>

<p>åŸºæœ¬ä¸Šå°±æ˜¯ä¸Šé¢çš„æ¡ä»¶åˆ¤æ–­åè¿‡æ¥äº†ï¼Œå½“ç›¸ç­‰æ—¶è¿­ä»£å™¨æ‰å¢åŠ ã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-22-08-15.png" alt="set_intersectionæ­¥è¿›åˆ†æ" /></p>

<h4 id="653-set_difference">6.5.3 set_difference</h4>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-22-12-26.png" alt="set_differenceæ­¥è¿›åˆ†æ" /></p>

<h4 id="654-set_symmetric_difference-æ„é€ å¯¹ç§°å·®é›†">6.5.4 set_symmetric_difference æ„é€ å¯¹ç§°å·®é›†</h4>

<p><img src="https://wangpengcheng.github.io/img/2019-08-02-22-14-24.png" alt="set_symmetric_difference" /></p>

<h3 id="67-å…¶å®ƒç®—æ³•">6.7 å…¶å®ƒç®—æ³•</h3>

<p><strong>find_end:æŸ¥æ‰¾æœ€åä¸€æ¬¡å‡ºç°çš„ç‚¹</strong></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-15-00-00.png" alt="find_endç®—æ³•å’Œfind_first_of" /></p>

<p><strong>includes(åº”ç”¨äºæœ‰åºåŒºé—´)</strong></p>

<p>åˆ¤æ–­åºåˆ—s2æ˜¯å¦â€œæ¶µç›–äºâ€åºåˆ—s1ã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-15-04-04.png" alt="includesç®—æ³•çš„å·¥ä½œåŸç†" /></p>

<p><strong>merge</strong>
å°†ä¸¤ä¸ªç»è¿‡æ’åºçš„é›†åˆS1å’ŒS2ï¼Œåˆå¹¶èµ·æ¥ç½®äºå¦ä¸€æ®µç©ºé—´ã€‚æ‰€å¾—ç»“æœä¹Ÿæ˜¯ä¸€ä¸ªæœ‰åº(sorted)åºåˆ—ã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-15-09-03.png" alt="mergeç®—æ³•çš„å·¥ä½œåŸç†ç¤ºæ„" /></p>

<p><strong>paritition</strong> 
å°†åŒºé—´ä¸­çš„å…ƒç´ é‡æ–°æ’åˆ—ï¼Œé€šè¿‡æ¡ä»¶è¿›è¡Œç­›é€‰ã€‚è¿™ä¸ªç®—æ³•å¹¶ä¸ä¿è¯ä¿ç•™å…ƒç´ çš„åŸå§‹ç›¸å¯¹ä½ç½®ï¼Œå¦‚æœéœ€è¦ä¿ç•™åŸå§‹ç›¸å¯¹ä½ç½®ï¼Œåº”è¯¥ä½¿ç”¨stable_partition</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-15-16-55.png" alt="" /></p>

<p><strong>remove</strong></p>

<p>removeå¹¶ä¸çœŸæ­£çš„åˆ é™¤è¿™ä¸ªå…ƒç´ ï¼Œè€Œæ˜¯å°†æ¯ä¸€ä¸ªä¸ä¸valueç›¸ç­‰çš„åŒ€é€Ÿè½®ç•ªèµ‹å€¼ç»™firstä¹‹åçš„ç©ºé—´ã€‚è¿”å›å€¼è¡¨ç¤ºé‡æ–°æ•´ç†ä¹‹åçš„æœ€åå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚ä¾‹å¦‚{0,1,0,2,0,3,0,4};æ‰§è¡Œremove(0)ï¼›æœ€ç»ˆç»“æœä¸º{1,2,3,4,0,3,0,4};è¿”å›çš„ForwarallteratoræŒ‡å‘ç¬¬äº”ä¸ªä½ç½®ã€‚å¦‚æœè¦è¿›è¡Œåˆ é™¤éœ€è¦ä½¿ç”¨erase()æ¥å°†è¿­ä»£å™¨åé¢çš„æ•°æ®è¿›è¡Œåˆ é™¤ã€‚æ³¨æ„arrayä¸é€‚åˆä½¿ç”¨remove()å’Œremove_if()ï¼›å› ä¸ºå®ƒæ— æ³•ç¼©å°å°ºå¯¸ï¼Œå¯¼è‡´æ®‹ä½™æ•°æ®æ°¸è¿œå­˜åœ¨ã€‚åº”è¯¥ä½¿ç”¨remove_copy()å’Œremove_copy_if();</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-15-38-28.png" alt="removeç›¸å…³å‚æ•°" /></p>

<p><strong>rotate</strong></p>

<p>rotateå¯ä»¥å®ç°éå¯¹ç§°çš„ä½ç½®äº¤æ¢ã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-15-50-41.png" alt="rotateæ“ä½œç¤ºæ„å›¾" />
å…³é”®ä»£ç ï¼š</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">ForwardIterator</span><span class="p">,</span><span class="k">class</span> <span class="nc">Distance</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="nf">__rotate</span><span class="p">(</span><span class="n">ForwardIterator</span> <span class="n">first</span><span class="p">,</span><span class="n">ForwardIterator</span> <span class="n">middle</span><span class="p">,</span><span class="n">ForwardIterator</span> <span class="n">last</span><span class="p">,</span><span class="n">Distance</span><span class="o">*</span><span class="p">,</span><span class="n">forward_iterator_tag</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="n">ForwardIterator</span> <span class="n">i</span><span class="o">=</span><span class="n">middle</span><span class="p">;;)</span>
    <span class="p">{</span>
        <span class="c1">//å‰æ®µåæ®µçš„å…ƒç´ ä¸€ä¸€äº¤æ¢</span>

        <span class="n">iter_swap</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
        <span class="c1">//åŒåŒå‰æ™¯</span>

        <span class="o">++</span><span class="n">first</span><span class="p">;</span>
        <span class="o">++</span><span class="n">i</span><span class="p">;</span>
        <span class="c1">//åˆ¤æ–­é‚£ä¸ªå…ˆè¡Œç»“æŸ</span>

        <span class="c1">//å‰æ®µå…ˆè¡Œç»“æŸ</span>

        <span class="k">if</span><span class="p">(</span><span class="n">first</span><span class="o">==</span><span class="n">middle</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">//åæ®µåŒæ—¶ç»“æŸï¼Œæ•´ä¸ªå°±ç»“æŸäº†</span>

            <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="n">last</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
            <span class="c1">//è°ƒæ•´ä½ç½®ï¼Œå¯¹æ–°çš„å‰åæ®µå†åšäº¤æ¢</span>

            <span class="n">middle</span><span class="o">=</span><span class="n">i</span><span class="p">;</span>
            <span class="c1">//åæ®µå…ˆç»“æŸ</span>

        <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="n">last</span><span class="p">){</span>
            <span class="c1">//è°ƒæ•´ï¼Œå‡†å¤‡å¯¹æ–°çš„å‰åæ®µå†åšäº¤æ¢</span>

            <span class="n">i</span><span class="o">=</span><span class="n">middle</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>
<p><img src="https://wangpengcheng.github.io/img/2019-08-03-15-59-28.png" alt="rotate forward iteratorç‰ˆæ“ä½œç¤ºæ„å›¾" /></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-16-00-32.png" alt="rotate bidirectional iteratorç‰ˆæ“ä½œç¤ºæ„å›¾" /></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-16-02-20.png" alt="search_nçš„å·¥ä½œåŸç†" /></p>

<p><strong>unique</strong>ç§»é™¤é‡å¤çš„å…ƒç´ </p>

<p>æ³¨æ„:uniqueåªç§»é™¤ç›¸é‚»çš„é‡å¤å…ƒç´ ï¼Œå¦‚æœä½ æƒ³ç§»é™¤æ‰€æœ‰é‡å¤å…ƒç´ ï¼Œå¿…é¡»å…ˆè¡Œæ’åºã€‚
æ‰€æœ‰ä¿ç•™ä¸‹æ¥çš„å…ƒç´ ï¼Œå…¶åŸå§‹å€¼ç›¸å¯¹æ¬¡åºä¸å˜</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-18-29-47.png" alt="uniqueç®—æ³•" /></p>

<p><strong>lower_bound/upper_bound(åº”ç”¨äºæœ‰åºåŒºé—´)</strong></p>

<p>è¿™ä¸ªæ˜¯äºŒåˆ†æŸ¥æ‰¾çš„ä¸€ç§ç‰ˆæœ¬ï¼Œè¯•å›¾åœ¨å·²ç»æ’åºçš„[first,last)ä¸­å¯»æ‰¾åŒ€é€Ÿvalueã€‚è¿”å›æ»¡å˜´æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚upper_boundæ˜¯è¿”å›æœ€åä¸€ä¸ªå€¼</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-18-33-55.png" alt="" /></p>

<p><strong>next_permutation</strong></p>

<p>å–å¾—[first,last)æ‰€æ ‡ç¤ºçš„ä¸‹ä¸€ä¸ªæ’åˆ—ç»„åˆï¼Œæœ‰å°±è¿”å›true,å¦åˆ™è¿”å›falseã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-19-16-15.png" alt="" /></p>

<p><strong>next_permutation</strong>
ä¸ä¸Šé¢åŸºæœ¬ç›¸åŒ</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-19-17-59.png" alt="next_permutationç®—æ³•æµç¨‹" /></p>

<p><strong>random_shuffle</strong></p>

<p>å°†å…ƒç´ æ¬¡åºéšæœºé‡æ’ã€‚</p>

<h4 id="679-sort">6.7.9 sort</h4>

<p>è¿™ä¸ªç®—æ³•æ¥å—ä¸¤ä¸ªRandomAccesslterators(éšæœºå­˜å–è¿­ä»£å™¨)ï¼Œç„¶åå°†åŒºé—´å†…çš„æ‰€æœ‰å…ƒç´ ä»¥æ¸å¢æ–¹å¼ç”±å°åˆ°å¤§é‡æ–°æ’åˆ—ã€‚å¹¶ä¸”å­˜åœ¨å…è®¸ç”¨æˆ·ä½¿ç”¨ä»¿å‡½æ•°æ¥è¿›è¡Œæ’åºã€‚STLçš„æ‰€æœ‰å…³ç³»å‹å®¹å™¨éƒ½æ‹¥æœ‰è‡ªåŠ¨æ’åºåŠŸèƒ½(åº•å±‚é‡‡ç”¨RB-tree)ï¼›æ‰€ä»¥ä¸éœ€è¦ç”¨åˆ°è¿™ä¸ªsortç®—æ³•ã€‚åºåˆ—å¼å®¹å™¨ä¸­çš„stack,queue,priority-queueéƒ½æœ‰ç‰¹å®šçš„å‡ºå…¥å£ï¼Œä¸å…è®¸ç”¨æˆ·å¯¹å…ƒç´ æ’åºã€‚vectorå’Œdequeueé€‚åˆä½¿ç”¨sortç®—æ³•ã€‚listçš„è¿­ä»£å™¨é¼ ç–«Bldirectionaltteratorsä¸é€‚åˆä½¿ç”¨sortç®—æ³•ã€‚</p>

<p>STLçš„sortç®—æ³•æ•°æ®é‡å¤§çš„æ—¶å€™é‡‡ç”¨Quick Sort(ç°åœ¨å·²ç»å¼€å§‹ä½¿ç”¨IntroSort æœ€åç®—æ³•å¤æ‚åº¦ä¸ºO(NlogN)) ;æ•°æ®é‡å°çš„æ—¶å€™ä½¿ç”¨Insertion Sortã€‚ä¸»è¦æ˜¯å› ä¸ºæ’å…¥æ’åºåœ¨æ•°æ®é‡å¾ˆå°çš„æ—¶å€™æœ‰ä¸é”™çš„æ•ˆæœã€‚å¹¶ä¸”æ²¡æœ‰é¢å¤–çš„å¼€é”€å’Œè´Ÿè·ã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-19-32-57.png" alt="æ’å…¥æ’åº" /></p>

<p>æ³¨æ„:è¿™é‡Œæ˜¯é‡‡ç”¨äº¤æ¢çš„æ–¹å¼è¿›è¡Œçš„æ’åºï¼Œä¸æ˜¯é“¾è¡¨çš„æŒ‡ç›´æ¥æ’å…¥ã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-19-36-26.png" alt="å¿«æ’æµç¨‹" /></p>

<p>å¿«é€Ÿæ’åºçš„ä¸€èˆ¬æµç¨‹</p>

<ol>
  <li>å¦‚æœSçš„å…ƒç´ ä¸ªæ•°ä¸º0æˆ–è€…1ï¼Œç»“æŸ</li>
  <li>å–Sä¸­çš„ä»»ä½•ä¸€ä¸ªå…ƒç´ ï¼Œå½“åšè½´(pivot)vã€‚</li>
  <li>å°†såˆ†å‰²ä¸ºL,Rï¼›ä¸¤æ®µï¼Œä½¿å¾—Lå†…çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½å°äºæˆ–è€…ç­‰äºv,Rå†…çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½å¤§äºæˆ–ç­‰äºvã€‚</li>
  <li>å¯¹L,Ré€’å½’æ‰§è¡ŒQuick Sort</li>
</ol>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-20-45-44.png" alt="" /></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-20-46-22.png" alt="" /></p>

<p>ä¸‹é¢æ˜¯å¿«é€Ÿæ’åºçš„å…·ä½“ä»£ç </p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">RandomAccessIterator</span><span class="p">&gt;</span>
<span class="kr">inline</span> <span class="kt">void</span> <span class="nf">sort</span><span class="p">(</span><span class="n">RandomAccessIterator</span> <span class="n">first</span><span class="p">,</span>
                <span class="n">RandomAccessIterator</span> <span class="n">last</span>
                <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">first</span><span class="o">!=</span><span class="n">last</span><span class="p">){</span>
        <span class="n">__introsort_loop</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">last</span><span class="p">,</span><span class="n">value_type</span><span class="p">(</span><span class="n">first</span><span class="p">),</span><span class="n">__lg</span><span class="p">(</span><span class="n">last</span><span class="o">-</span><span class="n">first</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">);</span>
        <span class="n">__final_insertion_sort</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">last</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//__lg()ç”¨æ¥æ§åˆ¶åˆ†å‰²æ¶åŒ–çš„æƒ…å†µ</span>

<span class="c1">//æ‰¾å‡º2^k&lt;=nçš„æœ€å¤§å€¼K,ä¾‹å¦‚n=7,k=2,n=20,k=4;</span>

<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Size</span><span class="p">&gt;</span>
<span class="kr">inline</span> <span class="n">Size</span> <span class="nf">__lg</span><span class="p">(</span><span class="n">Size</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Size</span> <span class="n">k</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">n</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">;</span><span class="n">n</span><span class="o">&gt;&gt;=</span><span class="mi">1</span><span class="p">)</span> <span class="o">++</span><span class="n">k</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">k</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">//è¿”å›a,bï¼Œcä¹‹é—´çš„å±…ä¸­è€…</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="kr">inline</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">__median</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">,</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">c</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="o">&lt;</span><span class="n">b</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">b</span><span class="o">&lt;</span><span class="n">c</span><span class="p">){</span>
            <span class="k">return</span> <span class="n">b</span><span class="p">;</span>
        <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="o">&lt;</span><span class="n">c</span><span class="p">){</span>
            <span class="k">return</span> <span class="n">c</span><span class="p">;</span>
        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
            <span class="k">return</span> <span class="n">a</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="o">&lt;</span><span class="n">c</span><span class="p">){</span>
        <span class="k">return</span> <span class="n">a</span><span class="p">;</span>
    <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">b</span><span class="o">&lt;</span><span class="n">c</span><span class="p">){</span>
        <span class="k">return</span> <span class="n">c</span><span class="p">;</span>
    <span class="p">}</span><span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//æ•°ç»„åˆ†å‰²è¿”å›åˆ†å‰²åçš„å³æ®µçš„ç¬¬ä¸€ä¸ªä½ç½®</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">RandomAccessIterator</span><span class="p">,</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="n">RandomAccessIterator</span> <span class="nf">__unguarded_partition</span><span class="p">(</span>
                                            <span class="n">RandomAccessIterator</span> <span class="n">first</span><span class="p">,</span>
                                            <span class="n">RandomAccessIterator</span> <span class="n">last</span><span class="p">,</span>
                                            <span class="n">T</span> <span class="n">pivot</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">){</span>
        <span class="c1">//æ‰¾åˆ°&gt;=pivotçš„å…ƒç´ å°±åœä¸‹æ¥</span>

        <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">first</span><span class="o">&lt;</span><span class="n">pivot</span><span class="p">){</span><span class="o">++</span> <span class="n">first</span><span class="p">;}</span>
        <span class="c1">//è°ƒæ•´æŒ‡é’ˆä½ç½®</span>

        <span class="o">--</span><span class="n">last</span><span class="p">;</span>
        <span class="c1">//æ‰¾åˆ°&lt;=pivotçš„å…ƒç´ å°±åœä¸‹æ¥ã€‚</span>

        <span class="k">while</span><span class="p">(</span><span class="n">pivot</span><span class="o">&lt;*</span><span class="n">last</span><span class="p">)</span> <span class="o">--</span><span class="n">last</span><span class="p">;</span>
        <span class="c1">//æ³¨æ„ä¸€ä¸‹åªé€‚ç”¨äº random iterator</span>
        <span class="c1">//äº¤é”™ï¼Œç»“æŸå¾ªç¯</span>

        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">first</span><span class="o">&lt;</span><span class="n">last</span><span class="p">))</span> <span class="k">return</span> <span class="n">first</span><span class="p">;</span>
        <span class="c1">//å¤§å°å€¼äº¤æ¢</span>

        <span class="n">iter_swap</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">last</span><span class="p">);</span>
        <span class="c1">//è°ƒæ•´</span>

        <span class="o">++</span><span class="n">first</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">//å½“åŒ€é€Ÿä¸ªæ•°ä¸º40æ—¶ï¼Œ__introsoft_loop()çš„æœ€åä¸€ä¸ªå‚æ•°å°†æ˜¯5*2ï¼Œæ„æ€æ˜¯æœ€å¤šå…è®¸åˆ†å‰²10å±‚ã€‚IntroSortç®—æ³•å¦‚ä¸‹ï¼š</span>

<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">RandomAccessIterator</span><span class="p">,</span><span class="k">class</span> <span class="nc">T</span><span class="p">,</span><span class="k">class</span> <span class="nc">Size</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="nf">__introsort_loop</span><span class="p">(</span><span class="n">RandomAccessIterator</span> <span class="n">first</span><span class="p">,</span>
                      <span class="n">RandomAccessIterator</span> <span class="n">last</span><span class="p">,</span>
                      <span class="n">T</span><span class="o">*</span><span class="p">,</span>
                      <span class="n">Size</span> <span class="n">depth_limit</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//__stl_thresholdæ˜¯ä¸€ä¸ªå…¨å±€å¸¸æ•°ï¼Œç¨æ—©å®šä¹‰ä¸ºconst int 16</span>

    <span class="k">while</span><span class="p">(</span><span class="n">last</span><span class="o">-</span><span class="n">first</span><span class="o">&gt;</span><span class="n">__stl_threshold</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">depth_limit</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
            <span class="c1">//åˆ†å‰²æ¶åŒ–ï¼Œæ”¹ç”¨heapsort</span>

            <span class="n">partial_sort</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">last</span><span class="p">,</span><span class="n">last</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="o">--</span><span class="n">depth_limit</span><span class="p">;</span>
        <span class="c1">//é€‰æ‹©ä¸€ä¸ªå¤Ÿå¥½çš„è½´æ¢å¹¶å†³å®šåˆ†å‰²ç‚¹,å¹¶èµ‹å€¼ç»™cut</span>

        <span class="n">RandomAccessIterator</span> <span class="n">cut</span><span class="o">=</span><span class="n">__unguarded_partition</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">last</span><span class="p">,</span><span class="n">T</span><span class="p">(</span><span class="n">__median</span><span class="p">(</span><span class="o">*</span><span class="n">first</span><span class="p">,</span><span class="o">*</span><span class="p">(</span><span class="n">first</span><span class="o">+</span><span class="p">(</span><span class="n">last</span><span class="o">-</span><span class="n">first</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="o">*</span><span class="p">(</span><span class="n">last</span><span class="o">-</span><span class="mi">1</span><span class="p">))));</span>
        <span class="c1">//æ ¹æ®cutå¯¹å³åŠæ®µé€’å½’è¿›è¡Œsort</span>

        <span class="n">__introsort_loop</span><span class="p">(</span><span class="n">cut</span><span class="p">,</span><span class="n">last</span><span class="p">,</span><span class="n">value_type</span><span class="p">(</span><span class="n">first</span><span class="p">),</span><span class="n">depth_limit</span><span class="p">);</span>
        <span class="n">last</span><span class="o">=</span><span class="n">cut</span><span class="p">;</span>

        <span class="c1">//è¿™é‡Œæ˜¯å›åˆ°whileå¾ªç¯ï¼Œå‡†å¤‡å¯¹å·¦åŠæ®µé€’å½’è¿›è¡Œsort</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>
<h4 id="6710-equal_rangeåº”ç”¨äºæœ‰åºåŒºé—´">6.7.10 equal_range(åº”ç”¨äºæœ‰åºåŒºé—´)</h4>

<p>æ˜¯äºŒåˆ†æŸ¥æ‰¾æ³•çš„ä¸€ä¸ªç‰ˆæœ¬ã€‚è¯•å›¾åœ¨å·²æ’åºçš„[first,last)ä¸­å¯»æ‰¾valueã€‚å®ƒè¿”å›ä¸€å¯¹è¿­ä»£å™¨iå’Œj,iæ˜¯åœ¨ä¸ç ´åæ¬¡åºçš„å‰æä¸‹ï¼Œvalueå¯ä»¥æ’å…¥çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œjåˆ™æ˜¯æœ€åä¸€ä¸ªã€‚å› æ­¤i-jå†…éƒ½æ˜¯valueã€‚</p>

<h4 id="6711-inplace_mergeåº”ç”¨äºæœ‰åºåŒºé—´">6.7.11 inplace_merge(åº”ç”¨äºæœ‰åºåŒºé—´)</h4>

<p>å°†ä¸¤ä¸ªå·²ç»æœ‰åºçš„åºåˆ—é‡æ–°ç»“åˆæˆä¸ºä¸€ä¸ªæ–°çš„æœ‰åºåºåˆ—ã€‚æ³¨æ„ï¼Œè¿™ä¸ªç®—æ³•ä¼šä½¿ç”¨é¢å¤–çš„å†…å­˜ç©ºé—´(æš‚æ—¶ç¼“å†²åŒº)ã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-21-16-48.png" alt="" /></p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-21-28-12.png" alt="" /></p>

<h4 id="6712-nth_element">6.7.12 nth_element</h4>

<p>é‡æ–°æ’åˆ—ï¼Œä½¿å¾—è¿­ä»£å™¨nthæ‰€æŒ‡çš„å…ƒç´ ï¼Œä¸æ•´ä¸ªè¿­ä»£é˜Ÿåˆ—å®Œæ•´æ’åºä¹‹åï¼ŒåŒä¸€ä½ç½®çš„å…ƒç´ åŒå€¼ã€‚åŒæ—¶ä¿è¯[nth,last)å†…æ²¡æœ‰ä»»ä½•ä¸€ä¸ªå…ƒç´ ä¸å¤§äº[first,nth)ï¼›ä½†å¯¹äº[first,nth)å’Œ[nth,last)ä¸¤ä¸ªå­åŒºé—´å†…çš„å…ƒç´ æ¬¡åºåˆ™æ— ä»»ä½•ä¿è¯ã€‚</p>

<p><img src="https://wangpengcheng.github.io/img/2019-08-03-22-07-31.png" alt="nth_elementæ“ä½œå®ä¾‹æ‹†è§£" /></p>

<h4 id="6713-merge-sort">6.7.13 merge sort</h4>

<p>åˆ©ç”¨åˆ†æ²»æ€æƒ³ï¼Œä»¥å„ä¸ªå‡»ç ´çš„æ–¹å¼æ¥å¯¹åŒºé—´è¿›è¡Œæ’åºï¼š</p>

<ul>
  <li>å°†åŒºé—´å¯¹åŠåˆ†å¼€ï¼Œå·¦å³ä¸¤æ®µå„è‡ªæ’åºã€‚</li>
  <li>ä½¿ç”¨inplace_mergeé‡æ–°ç»„åˆä¸ºä¸€ä¸ªå®Œæ•´çš„æœ‰åºåºåˆ—</li>
  <li>é€’å½’å¯¹åŠæ“ä½œï¼Œç›´åˆ°æ¯ä¸€å°æ®µçš„é•¿åº¦ä¸º0æˆ–è€…1.</li>
</ul>

<p>merge sortçš„ç®—æ³•å¤æ‚åº¦æ˜¯æ˜¯O(NlongN)ä½†æ˜¯å› ä¸ºä½¿ç”¨äº†é¢å¤–çš„èµ„æºï¼Œå› æ­¤æ€§èƒ½åè€Œä¸å¦‚Quick Sort</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">BidirectorIter</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="nf">mergesort</span><span class="p">(</span><span class="n">BidirectorIter</span> <span class="n">first</span><span class="p">,</span><span class="n">BidirectorIter</span> <span class="n">last</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">typename</span> <span class="n">iterator_traits</span><span class="o">&lt;</span><span class="n">BidirectorIter</span><span class="o">&gt;::</span><span class="n">difference_type</span> <span class="n">n</span><span class="o">=</span><span class="n">distance</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">last</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="o">||</span><span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="n">BidirectorIter</span> <span class="n">mid</span><span class="o">=</span><span class="n">first</span><span class="o">+</span><span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
        <span class="n">mergesort</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">mid</span><span class="p">);</span>
        <span class="n">mergesort</span><span class="p">(</span><span class="n">mid</span><span class="p">,</span><span class="n">last</span><span class="p">);</span>
        <span class="n">inplace_merge</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">mid</span><span class="p">,</span><span class="n">last</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>

</code></pre></div></div>

:ET